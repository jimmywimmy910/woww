local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")

local noclipEnabled = false

local function toggleNoclip()
    noclipEnabled = not noclipEnabled
    
    -- Disable collisions for each part of the character
    for _, part in ipairs(character:GetDescendants()) do
        if part:IsA("BasePart") then
            part.CanCollide = not noclipEnabled
        end
    end
    
    -- Disable collisions for the character's humanoid root part
    character:WaitForChild("HumanoidRootPart").CanCollide = not noclipEnabled
    
    -- Print noclip state (optional)
    print("Noclip enabled:", noclipEnabled)
end

-- Create GUI
local gui = Instance.new("ScreenGui")
gui.Parent = game.Players.LocalPlayer.PlayerGui

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 200, 0, 50)
frame.Position = UDim2.new(0, 10, 0, 10)
frame.BackgroundColor3 = Color3.fromRGB(36, 36, 36) -- Dark theme background color
frame.BorderSizePixel = 2
frame.BorderColor3 = Color3.fromRGB(65, 105, 225) -- Neon outline color
frame.Active = true
frame.Draggable = true
frame.Parent = gui

local flyButton = Instance.new("TextButton")
flyButton.Text = "Toggle Noclip"
flyButton.Size = UDim2.new(0, 180, 0, 40)
flyButton.Position = UDim2.new(0, 10, 0, 5)
flyButton.BackgroundColor3 = Color3.fromRGB(65, 105, 225) -- Neon button color
flyButton.TextColor3 = Color3.new(1, 1, 1) -- White text color
flyButton.Font = Enum.Font.SourceSans
flyButton.TextSize = 20
flyButton.BorderSizePixel = 2
flyButton.BorderColor3 = Color3.fromRGB(65, 105, 225) -- Neon outline color
flyButton.Parent = frame

flyButton.MouseButton1Click:Connect(function()
    toggleNoclip()
end)
